# 二分算法与单调性

## 1. 为什么单调性是前提
二分算法的逻辑是：  
- 通过比较中点 `mid` 的值和目标值（或条件）来决定舍弃一半的搜索区间。  
- 如果数据或条件没有单调性，就无法保证“舍弃的那一半区间里一定不包含答案”。  

换句话说：  
- 单调性保证了问题可以被 **划分为左右两段**，一半必然无解。  
- 否则，二分的剪枝就会错失可能的答案。  

---

## 2. 什么是“单调性”
常见的几种“可二分的单调性”：

- **数值单调**：数组有序（升序或降序）。  
  👉 标准二分查找元素位置。  

- **布尔单调**：某个判定函数在区间上表现为“前面都为 False，后面都为 True”。  
  👉 典型例子：最小可行值、最大不可行值问题。  

- **条件单调**：条件一旦满足（或不满足），在后续也保持一致。  
  👉 例子：在木材切割问题中，随着木板长度限制增大，“能否切出 k 段”的判定只会从 False 变 True。  

---

## 3. 什么时候该使用二分算法
可以问自己几个问题：

1. **目标答案是否落在一个范围（有界区间）内？**  
   - 比如答案一定在 `[1, n]` 之间。  

2. **是否存在单调性？**  
   - 如果条件从某点开始整体发生“质变”（False→True 或 True→False），二分就适用。  

3. **能否设计一个“判定函数 check(x)”？**  
   - `check(x)` 返回 True/False，且随着 `x` 增大/减小，结果单调。  
   - 然后就能用二分在答案范围里快速找到临界点。  

---

## 4. 常见应用场景
- **经典查找**：在有序数组中查找某个元素或插入位置。  
- **最值优化**：最小化/最大化一个满足条件的值。  
  - 例子：最小化运输时间、最大化切割长度。  
- **判定类问题**：  
  - 是否能完成任务（容量够不够、天数够不够…）。  
  - 随着参数增大，任务只会更容易完成 → 单调性成立。  

---

## ✅ 总结
如果问题能抽象成“在一个区间上，某个布尔条件是单调变化的”，就可以用二分算法快速找到临界点；如果条件不是单调的，二分就会失效。  
